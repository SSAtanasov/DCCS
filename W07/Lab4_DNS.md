# LAB 4: DNS –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
## Domain Name System - Name Resolution

**–¶–µ–ª:** –î–∞ —Å–µ –Ω–∞—É—á–∏—Ç–µ –¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞—Ç–µ DNS —Å—ä—Ä–≤—ä—Ä –∏ –¥–∞ —Ä–∞–∑–±–µ—Ä–µ—Ç–µ –∫–∞–∫ —Ä–∞–±–æ—Ç–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ—Ç–æ –∏–º–µ ‚Üí IP –∞–¥—Ä–µ—Å.

**–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç:** 60-75 –º–∏–Ω—É—Ç–∏

**Prerequisite:** –ó–∞–≤—ä—Ä—à–µ–Ω–∏ Lab 1-3

---

## –ß–ê–°–¢ 1: –ö–∞–∫–≤–æ –µ DNS? (–¢–µ–æ—Ä–∏—è - 10 –º–∏–Ω)

### –ü—Ä–æ–±–ª–µ–º –±–µ–∑ DNS:

```
–ò—Å–∫–∞—Ç–µ –¥–∞ –æ—Ç–≤–æ—Ä–∏—Ç–µ www.google.com

‚ùå –¢—Ä—è–±–≤–∞ –¥–∞ –ø–æ–º–Ω–∏—Ç–µ: 142.250.185.206
‚ùå –ó–∞ Facebook: 157.240.241.35
‚ùå –ó–∞ YouTube: 142.250.185.78
‚ùå –ó–∞ –≤—Å–µ–∫–∏ —Å–∞–π—Ç - —Ä–∞–∑–ª–∏—á–µ–Ω IP –∞–¥—Ä–µ—Å!

–ù–µ–≤—ä–∑–º–æ–∂–Ω–æ –µ –¥–∞ –∑–∞–ø–æ–º–Ω–∏—Ç–µ —Å—Ç–æ—Ç–∏—Ü–∏ IP –∞–¥—Ä–µ—Å–∏! 
```

### –†–µ—à–µ–Ω–∏–µ —Å DNS:

```
‚úÖ –ü–∏—à–µ—Ç–µ: www.google.com
‚úÖ DNS –ø—Ä–µ–≤–µ–∂–¥–∞ ‚Üí 142.250.185.206
‚úÖ Browser —Å–µ —Å–≤—ä—Ä–∑–≤–∞ —Å IP –∞–¥—Ä–µ—Å–∞

–í–∏–µ –ø–æ–º–Ω–∏—Ç–µ –ò–ú–ï–ù–ê, DNS –ø–æ–º–Ω–∏ IP –ê–î–†–ï–°–ò–¢–ï! 
```

### –ê–Ω–∞–ª–æ–≥–∏—è: DNS –µ —Ç–µ–ª–µ—Ñ–æ–Ω–µ–Ω —É–∫–∞–∑–∞—Ç–µ–ª

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –¢–ï–õ–ï–§–û–ù–ï–ù –£–ö–ê–ó–ê–¢–ï–õ            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤    ‚Üí 0888 123 456  ‚îÇ
‚îÇ –ú–∞—Ä–∏—è –ì–µ–æ—Ä–≥–∏–µ–≤–∞ ‚Üí 0899 987 654  ‚îÇ
‚îÇ –ü–∏—Ü–∞—Ä–∏—è "–í–∫—É—Å–Ω–æ"‚Üí 02 123 4567   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   DNS SERVER                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ www.google.com ‚Üí 142.250.185.206‚îÇ
‚îÇ web.company.local ‚Üí 192.168.10.3‚îÇ
‚îÇ server.company.local ‚Üí 192.168.10.2‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

–í–º–µ—Å—Ç–æ –¥–∞ –ø–æ–º–Ω–∏—Ç–µ –Ω–æ–º–µ—Ä–∞, —Ç—ä—Ä—Å–∏—Ç–µ –ø–æ –∏–º–µ!

---

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ DNS? (–û–ø—Ä–æ—Å—Ç–µ–Ω –ø—Ä–æ—Ü–µ—Å)

```
–°—Ç—ä–ø–∫–∞ 1: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –ø–∏—à–µ –∏–º–µ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PC1    ‚îÇ  "–ò—Å–∫–∞–º –¥–∞ –æ—Ç–≤–æ—Ä—è www.company.local"
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ
     ‚îÇ
–°—Ç—ä–ø–∫–∞ 2: PC –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –ª–æ–∫–∞–ª–µ–Ω –∫–µ—à
     ‚îÇ  "–ò–º–∞–º –ª–∏ –∑–∞–ø–∞–∑–µ–Ω IP –∑–∞ —Ç–æ–≤–∞ –∏–º–µ?"
     ‚îÇ  –ù–µ ‚Üí –ü—Ä–æ–¥—ä–ª–∂–∞–≤–∞ –∫—ä–º –°—Ç—ä–ø–∫–∞ 3
     ‚îÇ
     ‚îÇ
–°—Ç—ä–ø–∫–∞ 3: PC –ø–∏—Ç–∞ DNS Server
     ‚îÇ  "–ö–∞–∫—ä–≤ –µ IP –∞–¥—Ä–µ—Å—ä—Ç –Ω–∞ www.company.local?"
     ‚îÇ
     ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇDNS Server‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ
     ‚îÇ
–°—Ç—ä–ø–∫–∞ 4: DNS Server –æ—Ç–≥–æ–≤–∞—Ä—è
     ‚îÇ  "www.company.local –µ 192.168.10.3"
     ‚îÇ
     ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PC1    ‚îÇ  –°–µ–≥–∞ –∑–Ω–∞—è IP-—Ç–æ! –°–≤—ä—Ä–∑–≤–∞–º —Å–µ...
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –¢–∏–ø–æ–≤–µ DNS –∑–∞–ø–∏—Å–∏

DNS –∏–∑–ø–æ–ª–∑–≤–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Ç–∏–ø–æ–≤–µ –∑–∞–ø–∏—Å–∏ –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Ü–µ–ª–∏:

| –¢–∏–ø | –ò–º–µ | –ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ | –ü—Ä–∏–º–µ—Ä |
|-----|-----|-------------|--------|
| **A** | Address | –ò–º–µ ‚Üí IPv4 –∞–¥—Ä–µ—Å | `web.company.local` ‚Üí `192.168.10.3` |
| **AAAA** | IPv6 Address | –ò–º–µ ‚Üí IPv6 –∞–¥—Ä–µ—Å | `web.company.local` ‚Üí `2001:db8::1` |
| **CNAME** | Canonical Name | –ü—Å–µ–≤–¥–æ–Ω–∏–º ‚Üí –î—Ä—É–≥–æ –∏–º–µ | `www.company.local` ‚Üí `web.company.local` |
| **MX** | Mail Exchange | Mail —Å—ä—Ä–≤—ä—Ä –∑–∞ –¥–æ–º–µ–π–Ω–∞ | `company.local` ‚Üí `mail.company.local` |
| **NS** | Name Server | DNS —Å—ä—Ä–≤—ä—Ä—ä—Ç –Ω–∞ –¥–æ–º–µ–π–Ω–∞ | `company.local` ‚Üí `ns1.company.local` |
| **PTR** | Pointer | IP ‚Üí –ò–º–µ (–æ–±—Ä–∞—Ç–Ω–æ) | `192.168.10.3` ‚Üí `web.company.local` |

### –ù–∞–π-–≤–∞–∂–Ω–∏—Ç–µ –∑–∞ –Ω–∞—à–∏—è Lab:

**A Record (Address):**
```
server.company.local  ‚Üí  192.168.10.2
```
–î–∏—Ä–µ–∫—Ç–Ω–∞ –≤—Ä—ä–∑–∫–∞: **–∏–º–µ** ‚Üí **IP –∞–¥—Ä–µ—Å**

**CNAME Record (Alias):**
```
www.company.local  ‚Üí  web.company.local  ‚Üí  192.168.10.3
      ‚Üì                      ‚Üì
  –ø—Å–µ–≤–¥–æ–Ω–∏–º          —Ä–µ–∞–ª–Ω–æ –∏–º–µ (A record)
```
CNAME —Å–æ—á–∏ –∫—ä–º –î–†–£–ì–û –ò–ú–ï, –∫–æ–µ—Ç–æ –∏–º–∞ A record.

---

### TTL (Time To Live)

**TTL** = –ö–æ–ª–∫–æ –≤—Ä–µ–º–µ –¥–∞ —Å–µ –ø–∞–∑–∏ –∑–∞–ø–∏—Å—ä—Ç –≤ –∫–µ—à–∞

```
–ü—Ä–∏–º–µ—Ä: TTL = 3600 —Å–µ–∫—É–Ω–¥–∏ (1 —á–∞—Å)

1. PC –ø–∏—Ç–∞ DNS –∑–∞ www.company.local
2. DNS –æ—Ç–≥–æ–≤–∞—Ä—è: "192.168.10.3" (TTL: 3600)
3. PC –∑–∞–ø–∞–∑–≤–∞ –≤ –∫–µ—à–∞ —Å–∏ –∑–∞ 1 —á–∞—Å
4. –°–ª–µ–¥–≤–∞—â–∏—Ç–µ –∑–∞—è–≤–∫–∏ ‚Üí –ò–∑–ø–æ–ª–∑–≤–∞ –∫–µ—à–∞
5. –°–ª–µ–¥ 1 —á–∞—Å ‚Üí –ü–∏—Ç–∞ DNS –æ—Ç–Ω–æ–≤–æ
```

**–¢–∏–ø–∏—á–Ω–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏:**
- 3600 —Å–µ–∫—É–Ω–¥–∏ (1 —á–∞—Å) - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ –∑–∞ –Ω–∞—à–∏—è Lab
- 86400 —Å–µ–∫—É–Ω–¥–∏ (1 –¥–µ–Ω) - —Å—Ç–∞–±–∏–ª–Ω–∏ –∑–∞–ø–∏—Å–∏

---

## –ß–ê–°–¢ 2: –¢–æ–ø–æ–ª–æ–≥–∏—è (5 –º–∏–Ω)

### –†–∞–∑—à–∏—Ä—è–≤–∞–Ω–µ –Ω–∞ —Ç–æ–ø–æ–ª–æ–≥–∏—è—Ç–∞

–î–æ–±–∞–≤—è–º–µ DNS Server –∫—ä–º –Ω–∞—à–∞—Ç–∞ –º—Ä–µ–∂–∞:

```
              [Router R1]
                   |
            GigE0/0 (trunk)
                   |
              [Switch SW1]
       /       |     |     |     \     \     \
   Fa0/11  Fa0/6 Fa0/2 Fa0/3 Fa0/4 Fa0/5 Fa0/7
      |       |     |     |     |     |     |
  [Server] [Server][PC1] [PC2] [PC3] [PC4] (–ø—Ä–∞–∑–µ–Ω)
  DNS(10.2) File   Admin Admin  IT    IT
           (10.50)
           –æ—Ç Lab3
```

**VLAN-–∏:**
- VLAN 10: Administration (192.168.10.0/24)
- VLAN 20: IT Department (192.168.20.0/24)

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:**
- DNS Server (–Ω–æ–≤): 192.168.10.2
- File Server (–æ—Ç Lab 3): 192.168.10.50
- Web Server (–≤ –ß–ê–°–¢ 7): 192.168.10.3 (—â–µ –≥–æ –¥–æ–±–∞–≤–∏–º)

---

## –ß–ê–°–¢ 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ Switch (5 –º–∏–Ω)

### –ù–∞–∑–Ω–∞—á–∞–≤–∞–Ω–µ –Ω–∞ –ø–æ—Ä—Ç–∞ –∫—ä–º VLAN

```cisco
SW1# configure terminal
SW1(config)# interface FastEthernet0/11
SW1(config-if)# switchport mode access
SW1(config-if)# switchport access vlan 10
SW1(config-if)# description DNS-Server
SW1(config-if)# exit
```

**–ó–∞—â–æ VLAN 10?** 
–°—ä—Ä–≤—ä—Ä–∏—Ç–µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ —Å–∞ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏ VLAN –∑–∞ –ø–æ-–¥–æ–±—Ä–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

---

## –ß–ê–°–¢ 4: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ DNS Server (20 –º–∏–Ω)

### –°—Ç—ä–ø–∫–∞ 1: IP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞

**–ö–ª–∏–∫–Ω–µ—Ç–µ: Server ‚Üí Desktop ‚Üí IP Configuration**

```
IP Address: 192.168.10.2
Subnet Mask: 255.255.255.0
Default Gateway: 192.168.10.1
DNS Server: 127.0.0.1  (–ø–æ—Å–æ—á–≤–∞ –∫—ä–º —Å–µ–±–µ —Å–∏)
```

**–ó–∞—â–æ DNS = 127.0.0.1?**
- 127.0.0.1 = localhost (—Å–∞–º–∏—è —Å—ä—Ä–≤—ä—Ä)
- DNS Server –∏–∑–ø–æ–ª–∑–≤–∞ —Å–µ–±–µ —Å–∏ –∑–∞ name resolution

### –°—Ç—ä–ø–∫–∞ 2: –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ DNS Service

**–ö–ª–∏–∫–Ω–µ—Ç–µ: Server ‚Üí Services ‚Üí DNS**

1. –£–≤–µ—Ä–µ—Ç–µ —Å–µ —á–µ **DNS Service –µ ON**
2. –©–µ –≤–∏–¥–∏—Ç–µ –ø—Ä–∞–∑–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å DNS records

### –°—Ç—ä–ø–∫–∞ 3: –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ A records

**A Record** = –ò–º–µ ‚Üí IP –∞–¥—Ä–µ—Å

**–î–æ–±–∞–≤–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ –∑–∞–ø–∏—Å–∏:**

| Name | Type | Address | TTL |
|------|------|---------|-----|
| server.company.local | A | 192.168.10.2 | 3600 |
| router.company.local | A | 192.168.10.1 | 3600 |
| switch.company.local | A | 192.168.99.2 | 3600 |
| web.company.local | A | 192.168.10.3 | 3600 |
| pc1.company.local | A | 192.168.10.11 | 3600 |
| pc2.company.local | A | 192.168.10.12 | 3600 |

**–ö–∞–∫ —Å–µ –¥–æ–±–∞–≤—è—Ç:**
1. Name: `server.company.local`
2. Type: **A Record** (–ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ)
3. Address: `192.168.10.2`
4. TTL: `3600`
5. –ö–ª–∏–∫–Ω–µ—Ç–µ **Add**
6. –ü–æ–≤—Ç–æ—Ä–µ—Ç–µ –∑–∞ –≤—Å–∏—á–∫–∏

### –°—Ç—ä–ø–∫–∞ 4: –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ CNAME records (Aliases)

**CNAME Record** = –ü—Å–µ–≤–¥–æ–Ω–∏–º ‚Üí –î—Ä—É–≥–æ –∏–º–µ

| Name | Type | Address | TTL |
|------|------|---------|-----|
| www.company.local | CNAME | web.company.local | 3600 |
| mail.company.local | CNAME | server.company.local | 3600 |
| dns.company.local | CNAME | server.company.local | 3600 |

**–û–±—è—Å–Ω–µ–Ω–∏–µ:**
```
www.company.local ‚Üí web.company.local ‚Üí 192.168.10.3
      ‚Üì                    ‚Üì
   CNAME               A Record
```

---

## –ß–ê–°–¢ 5: –û–±–Ω–æ–≤—è–≤–∞–Ω–µ –Ω–∞ DHCP (10 –º–∏–Ω)

### –ü—Ä–æ–º—è–Ω–∞ –Ω–∞ DHCP –¥–∞ —Å–æ—á–∏ –∫—ä–º DNS —Å—ä—Ä–≤—ä—Ä–∞

**–ó–∞—â–æ?** PC-—Ç–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–∞ –ø–æ–ª—É—á–∞–≤–∞—Ç DNS Server –∞–¥—Ä–µ—Å.

```cisco
R1# configure terminal
R1(config)# ip dhcp pool ADMIN_POOL
R1(dhcp-config)# dns-server 192.168.10.2
R1(dhcp-config)# domain-name company.local
R1(dhcp-config)# exit
!
R1(config)# ip dhcp pool IT_POOL
R1(dhcp-config)# dns-server 192.168.10.2
R1(dhcp-config)# domain-name company.local
R1(dhcp-config)# exit
```

### Release –∏ Renew –Ω–∞ PC-—Ç–∞—Ç–∞

**–ù–∞ –≤—Å–µ–∫–∏ PC (Command Prompt):**
```
ipconfig /release
ipconfig /renew
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```
ipconfig /all
```

–¢—Ä—è–±–≤–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ:
```
DNS Server: 192.168.10.2
```

---

## –ß–ê–°–¢ 6: –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ DNS (15 –º–∏–Ω)

### Test 1: Ping –ø–æ –∏–º–µ (–≤–º–µ—Å—Ç–æ IP)

**–û—Ç PC1 (Command Prompt):**
```
ping server.company.local
```

**–û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç:**
```
Pinging server.company.local [192.168.10.2] with 32 bytes of data:
Reply from 192.168.10.2: bytes=32 time<1ms TTL=128
Reply from 192.168.10.2: bytes=32 time<1ms TTL=128
```

‚úÖ –í–∏–∂–¥–∞—Ç–µ IP –∞–¥—Ä–µ—Å–∞ –≤ —Å–∫–æ–±–∏ ‚Üí DNS —Ä–∞–±–æ—Ç–∏!

### Test 2: nslookup –∫–æ–º–∞–Ω–¥–∞

**nslookup** = Name Server Lookup (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ DNS)

**–û—Ç PC (Command Prompt):**
```
nslookup server.company.local
```

**–û—á–∞–∫–≤–∞–Ω –∏–∑—Ö–æ–¥:**
```
Server: 192.168.10.2
Address: 192.168.10.2

Name: server.company.local
Address: 192.168.10.2
```

**–û–±—è—Å–Ω–µ–Ω–∏–µ:**
- **Server:** –ö–æ–π DNS server –æ—Ç–≥–æ–≤–æ—Ä–∏
- **Name:** –ò–º–µ—Ç–æ –∫–æ–µ—Ç–æ —Ç—ä—Ä—Å–∏—Ö–º–µ
- **Address:** IP –∞–¥—Ä–µ—Å—ä—Ç –Ω–∞ –∏–º–µ—Ç–æ

### Test 3: CNAME resolution

```
nslookup www.company.local
```

**–û—á–∞–∫–≤–∞–Ω –∏–∑—Ö–æ–¥:**
```
Server: 192.168.10.2
Address: 192.168.10.2

Name: web.company.local
Address: 192.168.10.3
Aliases: www.company.local
```

**–û–±—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ—Ü–µ—Å–∞:**
```
1. –¢—ä—Ä—Å–∏–º: www.company.local
2. DNS –Ω–∞–º–∏—Ä–∞: CNAME ‚Üí web.company.local
3. –¢—ä—Ä—Å–∏ A record –∑–∞: web.company.local
4. –ù–∞–º–∏—Ä–∞: 192.168.10.3
5. –í—Ä—ä—â–∞: 192.168.10.3 (Alias: www.company.local)
```

### Test 4: –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ –Ω–µ—Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–æ –∏–º–µ

```
ping fake.company.local
```

**–û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç:**
```
Ping request could not find host fake.company.local.
```

‚ùå DNS –Ω–µ –º–æ–∂–µ –¥–∞ –Ω–∞–º–µ—Ä–∏ —Ç–æ–≤–∞ –∏–º–µ ‚Üí –≥—Ä–µ—à–∫–∞

---

## –ß–ê–°–¢ 7: –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ Web Server (BONUS - 15 –º–∏–Ω)

**–ó–∞–±–µ–ª–µ–∂–∫–∞:** –¢–æ–≤–∞ –µ –ù–û–í —Å—ä—Ä–≤—ä—Ä (–Ω–µ File Server-—ä—Ç –æ—Ç Lab 3).

### –°—Ç—ä–ø–∫–∞ 1: –î–æ–±–∞–≤–µ—Ç–µ Web Server

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:**
- 1x Server-PT (–ù–û–í!)
- –ò–º–µ: Web Server
- IP: 192.168.10.3
- Subnet: 255.255.255.0
- Gateway: 192.168.10.1
- DNS: 192.168.10.2

**–°–≤—ä—Ä–∑–≤–∞–Ω–µ:**
```cisco
SW1(config)# interface FastEthernet0/7
SW1(config-if)# switchport mode access
SW1(config-if)# switchport access vlan 10
SW1(config-if)# description Web-Server
SW1(config-if)# exit
```

**–ó–∞–±–µ–ª–µ–∂–∫–∞:** –ò–∑–ø–æ–ª–∑–≤–∞–º–µ Fa0/7 (Fa0/6 –µ –∑–∞–µ—Ç –æ—Ç File Server –≤ Lab 3).

### –°—Ç—ä–ø–∫–∞ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ HTTP Service

**Server ‚Üí Services ‚Üí HTTP:**

1. **HTTP Service:** ON
2. –ö–ª–∏–∫–Ω–µ—Ç–µ **index.html**
3. **–ò–∑—Ç—Ä–∏–π—Ç–µ** —Å—Ç–∞—Ä–∏—è –∫–æ–¥
4. **–ö–æ–ø–∏—Ä–∞–π—Ç–µ** —Å–ª–µ–¥–Ω–∏—è HTML:

```html
<!DOCTYPE html>
<html>
<head>
    <title>Company Website</title>
    <style>
        body { font-family: Arial; text-align: center; padding: 50px; }
        h1 { color: #0066cc; }
    </style>
</head>
<body>
    <h1>Welcome to Company.Local</h1>
    <p>This is the internal company website.</p>
    <p>DNS Resolution is working! üéâ</p>
    <hr>
    <p>Server: 192.168.10.3</p>
</body>
</html>
```

5. –ö–ª–∏–∫–Ω–µ—Ç–µ **Save**

### –°—Ç—ä–ø–∫–∞ 3: –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ DNS

**–ù–∞ DNS Server (192.168.10.2):**
- –í–µ—á–µ –∏–º–∞ –∑–∞–ø–∏—Å: `web.company.local` ‚Üí `192.168.10.3`

### –°—Ç—ä–ø–∫–∞ 4: –¢–µ—Å—Ç–≤–∞–Ω–µ –æ—Ç –±—Ä–∞—É–∑—ä—Ä

**–û—Ç PC1 ‚Üí Desktop ‚Üí Web Browser:**

**URL:** `http://www.company.local`

**–¢—Ä—è–±–≤–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ:**
```
Welcome to Company.Local
This is the internal company website.
DNS Resolution is working! 
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Server: 192.168.10.3
```

‚úÖ **–£—Å–ø–µ—Ö!** DNS –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞ –∏–º–µ—Ç–æ ‚Üí IP ‚Üí –±—Ä–∞—É–∑—ä—Ä—ä—Ç –∑–∞—Ä–µ–∂–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞!

---

## –ß–ê–°–¢ 8: Troubleshooting (10 –º–∏–Ω)

### –ü—Ä–æ–±–ª–µ–º 1: "Ping request could not find host"

**–°–∏–º–ø—Ç–æ–º–∏:**
```
ping server.company.local
Ping request could not find host server.company.local
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**

**1. DNS Server –ø—Ä–∞–≤–∏–ª–µ–Ω –ª–∏ –µ?**
```
ipconfig /all

DNS Server: 192.168.10.2  ‚Üê –¢—Ä—è–±–≤–∞ –¥–∞ —Å–æ—á–∏ –∫—ä–º DNS Server
```

**2. DNS Server –¥–æ—Å—Ç—ä–ø–µ–Ω –ª–∏ –µ?**
```
ping 192.168.10.2
```

**3. DNS Server –∏–º–∞ –ª–∏ –∑–∞–ø–∏—Å–∞?**
- **Server ‚Üí Services ‚Üí DNS**
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ `server.company.local` —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞

### –ü—Ä–æ–±–ª–µ–º 2: DNS –Ω–µ resolve-–≤–∞

**–ù–∞ DNS Server:**
1. **Services ‚Üí DNS**
2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ **DNS Service –µ ON**
3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –∑–∞–ø–∏—Å–∏—Ç–µ —Å–∞ –¥–æ–±–∞–≤–µ–Ω–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ (Name, Type, Address)

### –ü—Ä–æ–±–ª–µ–º 3: –†–∞–±–æ—Ç–∏ –æ—Ç –µ–¥–∏–Ω PC, –Ω–µ –æ—Ç –¥—Ä—É–≥

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ PC:**
```
ipconfig /all
```

–í–µ—Ä–æ—è—Ç–Ω–æ DHCP –Ω–µ –µ –æ–±–Ω–æ–≤–µ–Ω:
```
ipconfig /release
ipconfig /renew
ipconfig /all   ‚Üê –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ DNS Server
```

### –ü—Ä–æ–±–ª–µ–º 4: CNAME –Ω–µ —Ä–∞–±–æ—Ç–∏

**–£–≤–µ—Ä–µ—Ç–µ —Å–µ —á–µ:**
1. CNAME –∑–∞–ø–∏—Å—ä—Ç —Å—ä—â–µ—Å—Ç–≤—É–≤–∞
2. Type –µ –∏–∑–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª–Ω–æ –∫–∞—Ç–æ **CNAME**
3. Address —Å–æ—á–∏ –∫—ä–º **—Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â A record**

**–ü—Ä–∏–º–µ—Ä:**
```
‚ùå –ì–†–ï–®–ù–û:
www.company.local (CNAME) ‚Üí 192.168.10.3
                            ‚Üë
                    –î–∏—Ä–µ–∫—Ç–Ω–æ –∫—ä–º IP (—Ç—Ä—è–±–≤–∞ A record!)

‚úÖ –ü–†–ê–í–ò–õ–ù–û:
www.company.local (CNAME) ‚Üí web.company.local (A) ‚Üí 192.168.10.3
```

---

## –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### –¢–∞–±–ª–∏—Ü–∞ —Å DNS Records:

| Record Type | Name | Points To | IP Address |
|-------------|------|-----------|------------|
| A | server.company.local | Self | 192.168.10.2 |
| A | router.company.local | R1 | 192.168.10.1 |
| A | web.company.local | Web Server | 192.168.10.3 |
| CNAME | www.company.local | web.company.local | - |
| CNAME | dns.company.local | server.company.local | - |

### DHCP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—ä—Å DNS:

```cisco
ip dhcp pool ADMIN_POOL
 network 192.168.10.0 255.255.255.0
 default-router 192.168.10.1
 dns-server 192.168.10.2
 domain-name company.local
```

---

## –ó–ê–î–ê–ß–ò –ó–ê –°–ê–ú–û–°–¢–û–Ø–¢–ï–õ–ù–ê –†–ê–ë–û–¢–ê

### –ó–∞–¥–∞—á–∞ 1: –î–æ–±–∞–≤–µ—Ç–µ –ø–æ–≤–µ—á–µ DNS –∑–∞–ø–∏—Å–∏
–°—ä–∑–¥–∞–π—Ç–µ –∑–∞–ø–∏—Å–∏ –∑–∞:
- `printer.company.local` ‚Üí 192.168.10.50
- `camera.company.local` ‚Üí 192.168.20.100

### –ó–∞–¥–∞—á–∞ 2: –ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–µ–Ω –¥–æ–º–µ–π–Ω
- –î–æ–±–∞–≤–µ—Ç–µ –∑–∞–ø–∏—Å–∏ –∑–∞ `internal.net`
- –°—ä–∑–¥–∞–π—Ç–µ A records —Å –Ω–æ–≤–∏—è –¥–æ–º–µ–π–Ω
- –¢–µ—Å—Ç–≤–∞–π—Ç–µ —Å ping

### –ó–∞–¥–∞—á–∞ 3: Mail Server (MX Record - Advanced)
```
Type: MX
Name: company.local
Address: mail.company.local
Priority: 10
```

---

## CHECKLIST –ó–ê –ó–ê–í–™–†–®–í–ê–ù–ï

```
‚òê DNS Server –¥–æ–±–∞–≤–µ–Ω (192.168.10.2)
‚òê DNS Service –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω (ON)
‚òê A records —Å–∞ —Å—ä–∑–¥–∞–¥–µ–Ω–∏
‚òê CNAME records —Ä–∞–±–æ—Ç—è—Ç
‚òê DHCP pools —Å–æ—á–∞—Ç –∫—ä–º DNS server
‚òê PC-—Ç–∞—Ç–∞ –º–æ–≥–∞—Ç –¥–∞ ping –ø–æ –∏–º–µ
‚òê nslookup —Ä–∞–±–æ—Ç–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ
‚òê (BONUS) Web browser –∑–∞—Ä–µ–∂–¥–∞ www.company.local
‚òê DNS records —Å–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–∞–Ω–∏
```

---

## –ö–ê–ö–í–û –ù–ê–£–ß–ò–•–ú–ï

1. ‚úÖ –ö–∞–∫–≤–æ –µ DNS –∏ –∑–∞—â–æ –µ –≤–∞–∂–µ–Ω (–ò–º–µ ‚Üí IP)
2. ‚úÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ DNS Query –ø—Ä–æ—Ü–µ—Å
3. ‚úÖ –¢–∏–ø–æ–≤–µ DNS records (A, CNAME)
4. ‚úÖ TTL (Time To Live)
5. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ DNS Server –≤ Packet Tracer
6. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DHCP (dns-server option)
7. ‚úÖ nslookup –∫–æ–º–∞–Ω–¥–∞ –∑–∞ troubleshooting
8. ‚úÖ Web browser —Å DNS resolution

---

## –°–õ–ï–î–í–ê–©–ê –°–¢–™–ü–ö–ê

–í **Lab 5** —â–µ –Ω–∞—É—á–∏–º:
- Access Control Lists (ACL)
- –ö–æ–Ω—Ç—Ä–æ–ª –Ω–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–∂–¥—É VLAN-–∏
- Security policies

**–ó–∞–ø–∞–∑–µ—Ç–µ —Ñ–∞–π–ª–∞ –∫–∞—Ç–æ:** `Lab4_DNS_YourName.pkt`

---

**–£—Å–ø–µ—Ö! DNS –µ –∫—Ä–∏—Ç–∏—á–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ –≤—Å—è–∫–∞ –º—Ä–µ–∂–∞!**



**–≥–ª. –∞—Å. –°–≤–µ—Ç–æ—Å–ª–∞–≤ –ê—Ç–∞–Ω–∞—Å–æ–≤**  
svetoslav.atanasov@trakia-uni.bg


<script data-goatcounter="https://satanasov.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<script src="/SNA/assets/js/analytics-logger.js"></script>